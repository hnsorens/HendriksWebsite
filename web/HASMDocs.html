<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HASM - Assembly Language Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap");
        :root {
            --primary: #e2e8f0;
            --secondary: #94a3b8;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f1f5f9;
            --lighter: #f8fafc;
            --accent: #3b82f6;
            --accent2: #1d4ed8;
            --divider: #334155;
            --header-height: 4rem;
            --border-radius: 12px;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        body.light-mode {
            --primary: #0f172a;
            --secondary: #334155;
            --dark: #ffffff;
            --darker: #f8fafc;
            --light: #f1f5f9;
            --lighter: #e2e8f0;
            --accent: #2563eb;
            --accent2: #1d4ed8;
            --divider: #94a3b8;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            color: var(--primary);
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            font-size: 1.05rem;
            line-height: 1.7;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background 0.4s, color 0.3s;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: 320px;
            background: rgba(24, 28, 36, 0.98);
            backdrop-filter: blur(10px);
            color: var(--primary);
            padding: 32px 0 28px 0;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            border-right: 1.5px solid var(--divider);
            box-shadow: none;
            border-radius: 0;
            transition: all 0.3s ease;
        }
        
        body.light-mode .sidebar {
            background: rgba(255, 255, 255, 0.98);
        }
        
        .sidebar-header {
            padding: 0 32px 28px 32px;
            border-bottom: 1.5px solid var(--divider);
        }
        
        .sidebar-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            color: var(--accent);
            font-size: 1.6rem;
            letter-spacing: -0.5px;
        }
        
        .sidebar-header h2 i {
            color: var(--accent);
        }
        
        .sidebar ul {
            list-style: none;
            margin-top: 18px;
        }
        
        .sidebar li {
            position: relative;
        }
        
        .sidebar li a {
            display: block;
            padding: 14px 32px;
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.2s, font-weight 0.2s;
            border-left: 3px solid transparent;
            font-weight: 500;
            border-radius: 6px 0 0 6px;
            font-size: 1.08em;
            transition: background 0.2s, color 0.2s, border-left 0.2s;
        }
        
        .sidebar li a:hover {
            background: var(--lighter);
            border-left: 3px solid var(--accent2);
            color: var(--accent2);
            font-weight: 700;
        }
        
        .sidebar li a.active {
            background: var(--lighter);
            border-left: 3px solid var(--accent2);
            font-weight: 700;
            color: var(--accent2);
        }
        
        .sidebar details {
            margin-left: 10px;
        }
        
        .sidebar details summary {
            cursor: pointer;
            padding: 12px 28px;
            list-style: none;
            position: relative;
            font-size: 1.05em;
        }
        
        .sidebar details summary::-webkit-details-marker {
            display: none;
        }
        
        .sidebar details summary:after {
            content: '+';
            position: absolute;
            right: 15px;
            transition: transform 0.2s;
        }
        
        .sidebar details[open] summary:after {
            transform: rotate(45deg);
        }
        
        .sidebar details ul {
            margin-left: 18px;
            border-left: 1px dashed rgba(255,255,255,0.13);
        }
        
        .sidebar details li a {
            padding: 10px 28px 10px 44px;
            font-size: 0.97em;
            opacity: 0.92;
        }
        
        /* Content Styles */
        .content {
            flex: 1;
            padding: 44px 56px 56px 56px;
            max-width: 1100px;
            background: none;
            font-size: 1.13rem;
            margin: 0 auto;
            border-radius: 0;
            box-shadow: none;
        }
        
        .content-header {
            margin-bottom: 36px;
            padding-bottom: 18px;
            border-bottom: 2px solid var(--divider);
        }
        
        .content-header h1 {
            font-size: 2.7rem;
            color: var(--accent);
            margin-bottom: 8px;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        .content-header .breadcrumb {
            display: flex;
            gap: 10px;
            color: var(--lighter);
            font-size: 1.02rem;
        }
        
        .content-header .breadcrumb a {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .content-header .breadcrumb a:hover {
            color: var(--accent2);
        }
        
        section {
            margin-bottom: 44px;
            background: none;
            padding: 28px 0 0 0;
            border-radius: 0;
            box-shadow: none;
            border-bottom: 2px solid var(--divider);
        }
        
        section:last-of-type {
            border-bottom: none;
        }
        
        section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            border-bottom: 1.5px solid var(--divider);
            padding-bottom: 0.3em;
            font-size: 2rem;
            font-weight: 700;
            letter-spacing: -0.025em;
        }
        
        section h3 {
            color: var(--primary);
            margin-top: 2.2em;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 700;
            letter-spacing: -0.025em;
        }
        
        section h4 {
            color: var(--accent);
            margin: 15px 0 10px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        section p, section li {
            color: var(--secondary);
            font-weight: 400;
            margin-bottom: 14px;
        }
        
        section ul, section ol {
            margin: 15px 0 15px 32px;
            color: var(--primary);
            font-size: 1.05em;
        }
        
        section li {
            margin-bottom: 8px;
        }
        
        /* Tables */
        table, .flags-table {
            width: 100%;
            border-collapse: collapse;
            margin: 28px 0;
            font-size: 1.08em;
            background: var(--dark);
            border: 1px solid var(--divider);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: none;
            transition: background 0.3s;
        }
        body.light-mode table, body.light-mode .flags-table {
            background: #fff;
        }
        table thead tr, .flags-table thead tr {
            background: #232a3a;
            color: #e2e8f0;
        }
        body.light-mode table thead tr, body.light-mode .flags-table thead tr {
            background: var(--lighter);
            color: var(--primary);
        }
        table th, table td, .flags-table th, .flags-table td {
            padding: 14px 18px;
            border: 1px solid var(--divider);
            font-size: 1.08em;
            vertical-align: middle;
        }
        table tbody tr, .flags-table tbody tr {
            transition: background 0.2s;
        }
        table tbody tr:nth-of-type(even), .flags-table tbody tr:nth-of-type(even) {
            background: #1e2533;
        }
        body.light-mode table tbody tr:nth-of-type(even),
        body.light-mode .flags-table tbody tr:nth-of-type(even) {
            background: #f8fafc;
        }
        table tbody tr:last-of-type, .flags-table tbody tr:last-of-type {
            border-bottom: none;
        }
        table tbody tr:hover, .flags-table tbody tr:hover {
            background-color: #232a3a;
        }
        body.light-mode table tbody tr:hover,
        body.light-mode .flags-table tbody tr:hover {
            background-color: #e2e8f0;
        }
        .flags-table td:first-child {
            width: 80px;
            font-family: 'Fira Code', monospace;
            color: var(--primary);
        }
        /* Remove badge/gradient styling from flags table */
        .flag-badge {
            display: none;
        }
        /* Flags Affected: None */
        .flags-none {
            color: var(--secondary);
            font-style: italic;
            margin: 10px 0 18px 0;
            font-size: 1.05em;
        }
        
        /* Code Blocks */
        pre {
            background: none;
            border: 1px solid var(--divider);
            border-radius: 0;
            padding: 16px;
            margin: 20px 0;
            overflow-x: auto;
            box-shadow: none;
        }
        
        code {
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 0.9em;
            color: var(--primary);
        }
        
        .hljs {
            background: transparent;
        }
        
        /* Alert Boxes */
        .alert {
            background: rgba(59,130,246,0.07);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            padding: 1.1em 1.5em;
            margin: 1.5em 0;
            color: var(--primary);
            position: relative;
            box-shadow: 0 2px 8px 0 rgba(0,0,0,0.03);
        }
        
        .alert-note {
            border-left-color: var(--accent);
        }
        
        .alert-warning {
            border-left-color: var(--warning);
        }
        
        .alert-danger {
            border-left-color: var(--danger);
        }
        
        .alert-success {
            border-left-color: var(--success);
        }
        
        .alert-title {
            font-weight: 700;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--accent);
            font-size: 1.08em;
        }
        
        .alert p {
            color: var(--primary);
            font-size: 1.04em;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .content {
                padding: 24px 8px 32px 8px;
            }
            
            .sidebar {
                display: none !important;
            }
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 12px 2px 24px 2px;
            }
            
            .sidebar {
                padding: 12px 0 12px 0;
            }
            
            .sidebar-header {
                padding: 0 12px 12px 12px;
            }
            
            .sidebar ul {
                margin-top: 8px;
            }
        }
        
        @media (max-width: 480px) {
            .content-header h1 {
                font-size: 1.5rem;
            }
            
            section h2 {
                font-size: 1.2rem;
            }
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--secondary);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        /* Instruction Signature */
        .signature {
            background: var(--darker);
            border-left: 4px solid var(--accent);
            border: 1px solid var(--divider);
            border-radius: 2px;
            box-shadow: none;
            color: var(--primary);
            margin-bottom: 18px;
            padding: 12px 15px;
            font-family: 'Fira Code', monospace;
        }
        body.light-mode .signature {
            background: #fff;
            border-color: #475569;
            color: #181c24;
        }
        
        .signature .keyword {
            color: #d63384;
            font-weight: bold;
        }
        
        .signature .register {
            color: #099268;
            font-weight: bold;
        }
        
        .signature .immediate {
            color: #5f3dc4;
            font-weight: bold;
        }
        
        .signature .memory {
            color: #1971c2;
            font-weight: bold;
        }
        
        /* Flags Table */
        .flags-table {
            width: 100%;
            min-width: 320px;
            background: linear-gradient(120deg, var(--darker) 80%, var(--accent) 100%);
            border-radius: 14px;
            box-shadow: 0 2px 16px 0 rgb(59 130 246 / 0.10);
            margin: 18px 0 24px 0;
            border: none;
            overflow: hidden;
        }
        body.light-mode .flags-table {
            background: linear-gradient(120deg, #f1f5f9 80%, var(--accent) 100%);
        }
        .flags-table tr {
            border-bottom: 1px solid var(--divider);
        }
        .flags-table td {
            padding: 14px 18px;
            font-size: 1.08em;
            vertical-align: middle;
        }
        .flags-table td:first-child {
            width: 80px;
        }
        .flag-badge {
            display: inline-block;
            padding: 4px 14px;
            border-radius: 999px;
            font-size: 1em;
            font-weight: 600;
            color: #fff;
            margin-right: 8px;
            letter-spacing: 0.03em;
            box-shadow: 0 1px 4px 0 rgb(0 0 0 / 0.10);
            background: linear-gradient(90deg, var(--accent2), var(--accent));
            border: none;
        }
        .flag-badge.OF { background: linear-gradient(90deg, #f59e42, #fbbf24); }
        .flag-badge.CF { background: linear-gradient(90deg, #ef4444, #f87171); }
        .flag-badge.ZF { background: linear-gradient(90deg, #3b82f6, #60a5fa); }
        .flag-badge.SF { background: linear-gradient(90deg, #10b981, #34d399); }
        .flag-badge.AF { background: linear-gradient(90deg, #a21caf, #e879f9); }
        .flag-badge.PF { background: linear-gradient(90deg, #6366f1, #818cf8); }
        .flag-badge.IF { background: linear-gradient(90deg, #f472b6, #f9a8d4); }
        .flag-badge.TF { background: linear-gradient(90deg, #facc15, #fde68a); }
        .flag-badge.RF { background: linear-gradient(90deg, #14b8a6, #5eead4); }
        /* Add more as needed */
        
        /* Footer */
        .footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100vw;
            min-height: 38px;
            background: var(--darker);
            color: var(--secondary);
            border-top: 1px solid var(--divider);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.97rem;
            margin-top: 0;
            text-align: center;
            z-index: 100;
            box-shadow: none;
            padding: 10px 0;
        }
        body.light-mode .footer {
            background: var(--lighter);
        }
        .footer-content {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            max-width: 1200px;
        }
        .footer-copy {
            width: 100%;
            text-align: center;
        }
        
        /* Dark mode toggle */
        .dark-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: var(--primary);
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1000;
            transition: color 0.2s;
        }
        
        .dark-toggle:hover {
            color: var(--accent);
        }
        .editor-container {
    border: 1px solid var(--divider);
    border-radius: 0;
    overflow: hidden;
    margin-bottom: 30px;
    box-shadow: none;
}

.editor-toolbar {
    background-color: rgba(37, 97, 167, 0.1);
    padding: 8px 12px;
    border-bottom: 1px solid var(--divider);
    display: flex;
    gap: 8px;
}

.btn-run, .btn-clear {
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 5px;
}

.btn-run {
    background-color: #2ecc71;
    color: white;
}

.btn-run:hover {
    background-color: #27ae60;
}

.btn-clear {
    background-color: #e74c3c;
    color: white;
}

.btn-clear:hover {
    background-color: #c0392b;
}

.examples-dropdown select {
    padding: 5px;
    border-radius: 4px;
    border: 1px solid #ddd;
    background-color: white;
}

.code-editor {
    font-family: 'Fira Code', 'Courier New', monospace;
    min-height: 200px;
    max-height: 400px;
    overflow-y: auto;
    padding: 12px;
    background-color: rgba(24, 28, 36, 0.5);
    color: var(--primary);
    white-space: pre;
    tab-size: 4;
    line-height: 1.5;
    border: none;
}

.code-editor:focus {
    outline: none;
}

.output-container {
    border-top: 1px solid var(--divider);
}

.output-header {
    background-color: rgba(37, 97, 167, 0.1);
    padding: 8px 12px;
    display: flex;
    justify-content: space-between;
    font-weight: 500;
    color: var(--primary);
}

.output-terminal {
    font-family: 'Fira Code', 'Courier New', monospace;
    min-height: 100px;
    max-height: 200px;
    overflow-y: auto;
    padding: 12px;
    background-color: rgba(24, 28, 36, 0.3);
    color: var(--primary);
    white-space: pre-wrap;
}

.status-ready {
    color: #2ecc71;
}

.status-running {
    color: #f39c12;
}

.status-error {
    color: #e74c3c;
}

/* Syntax highlighting for editor */
.comment {
    color: #5c6370;
    font-style: italic;
}

.instruction {
    color: #c678dd;
    font-weight: bold;
}

.register {
    color: #56b6c2;
}

.immediate {
    color: #d19a66;
}

.label {
    color: #e5c07b;
}

.memory {
    color: #98c379;
}
/* Add these styles to your existing <style> section */
    .simulation-panel {
    display: flex;
    margin-top: 20px;
    gap: 20px;
}

.register-display {
    flex: 1;
    background: none;
    padding: 15px;
    border-radius: 0;
    box-shadow: none;
    border: 1px solid var(--divider);
}

.register-display h3 {
    margin-bottom: 15px;
    color: var(--accent);
    border-bottom: 1px solid var(--divider);
    padding-bottom: 8px;
    font-weight: 600;
}

.register-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
}

.register-item {
    display: flex;
    flex-direction: column;
}

.register-name {
    font-weight: bold;
    color: var(--accent);
    font-family: 'Fira Code', monospace;
}

.register-value {
    font-family: 'Fira Code', monospace;
    background: rgba(37, 97, 167, 0.1);
    padding: 5px;
    border-radius: 0;
    text-align: center;
    color: var(--primary);
}

.simulation-controls {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.btn-step {
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: #3498db;
    color: white;
}

.btn-step:hover {
    background-color: #2980b9;
}

.execution-line {
    background-color: #fffde7;
}

.memory-display {
    flex: 1;
    background: none;
    padding: 15px;
    border-radius: 0;
    box-shadow: none;
    border: 1px solid var(--divider);
}

.memory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 10px;
}
    /* Add from HASM.html: code-container and language-assembly syntax highlighting */
        .code-container {
            background: var(--darker);
            border: 1px solid var(--divider);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 1.5rem;
        }
        body.light-mode .code-container {
            background: #1e293b;
            border-color: #475569;
        }
        .code-container pre {
            margin: 0;
            padding: 1.2rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 1.2rem;
            line-height: 1.6;
            color: #fff;
        }
        body.light-mode .code-container pre {
            background: #fff;
            color: #181c24;
        }
        /* Assembly Syntax Highlighting */
        .language-assembly .keyword {
            color: #ef4444;
            font-weight: 600;
        }
        .language-assembly .directive {
            color: #10b981;
            font-weight: 600;
        }
        .language-assembly .register {
            color: #3b82f6;
            font-weight: 600;
        }
        .language-assembly .number {
            color: #f59e0b;
        }
        .language-assembly .string {
            color: #06b6d4;
        }
    </style>
</head>
<body>
    <button class="dark-toggle" onclick="toggleDarkMode()" aria-label="Toggle dark/light mode"><i class="fas fa-moon"></i></button>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-cog"></i> HASM Documentation</h2>
            </div>
            <ul>
                <li><a href="#Overview" class="active"><i class="fas fa-home"></i> Overview</a></li>
                <li><a href="#Immediate"><i class="fas fa-hashtag"></i> Immediate Values</a></li>
                <li><a href="#Registers"><i class="fas fa-memory"></i> Registers</a></li>
                <li><a href="#Memory"><i class="fas fa-database"></i> Memory</a></li>
                <li>
                    <details>
                        <summary><i class="fas fa-file-code"></i> Program Structure</summary>
                        <ul>
                            <li><a href="#Global">GLOBAL Directive</a></li>
                            <li><a href="#Sections">SECTION Directive</a></li>
                            <li><a href="#Comments">Comments</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-cube"></i> Data Definitions</summary>
                        <ul>
                            <li><a href="#DB">DB Directive</a></li>
                            <li><a href="#DW">DW Directive</a></li>
                            <li><a href="#DD">DD Directive</a></li>
                            <li><a href="#DQ">DQ Directive</a></li>
                            <li><a href="#Times">TIMES Directive</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details open>
                        <summary><i class="fas fa-exchange-alt"></i> Data Movement</summary>
                        <ul>
                            <li><a href="#MOV">MOV Instruction</a></li>
                            <li><a href="#PUSH">PUSH Instruction</a></li>
                            <li><a href="#POP">POP Instruction</a></li>
                            <li><a href="#LEA">LEA Instruction</a></li>
                            <li><a href="#XCHG">XCHG Instruction</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-calculator"></i> Arithmetic Operations</summary>
                        <ul>
                            <li><a href="#ADD">ADD Instruction</a></li>
                            <li><a href="#SUB">SUB Instruction</a></li>
                            <li><a href="#MUL">MUL Instruction</a></li>
                            <li><a href="#DIV">DIV Instruction</a></li>
                            <li><a href="#IMUL">IMUL Instruction</a></li>
                            <li><a href="#IDIV">IDIV Instruction</a></li>
                            <li><a href="#ADC">ADC Instruction</a></li>
                            <li><a href="#SBB">SBB Instruction</a></li>
                            <li><a href="#NEG">NEG Instruction</a></li>
                            <li><a href="#INC">INC Instruction</a></li>
                            <li><a href="#DEC">DEC Instruction</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-binary"></i> Logical and Bitwise</summary>
                        <ul>
                            <li><a href="#AND">AND Instruction</a></li>
                            <li><a href="#OR">OR Instruction</a></li>
                            <li><a href="#XOR">XOR Instruction</a></li>
                            <li><a href="#NOT">NOT Instruction</a></li>
                            <li><a href="#TEST">TEST Instruction</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-code-branch"></i> Comparison and Jumps</summary>
                        <ul>
                            <li><a href="#CMP">CMP Instruction</a></li>
                            <li><a href="#JO">JO Instruction</a></li>
                            <li><a href="#JNO">JNO Instruction</a></li>
                            <li><a href="#JBE">JBE Instruction</a></li>
                            <li><a href="#JB">JB Instruction</a></li>
                            <li><a href="#JAE">JAE Instruction</a></li>
                            <li><a href="#JNE">JNE Instruction</a></li>
                            <li><a href="#JE">JE Instruction</a></li>
                            <li><a href="#JA">JA Instruction</a></li>
                            <li><a href="#JS">JS Instruction</a></li>
                            <li><a href="#JNS">JNS Instruction</a></li>
                            <li><a href="#JP">JP Instruction</a></li>
                            <li><a href="#JNP">JNP Instruction</a></li>
                            <li><a href="#JLE">JLE Instruction</a></li>
                            <li><a href="#JL">JL Instruction</a></li>
                            <li><a href="#JGE">JGE Instruction</a></li>
                            <li><a href="#JG">JG Instruction</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-project-diagram"></i> Control Flow</summary>
                        <ul>
                            <li><a href="#JMP">JMP Instruction</a></li>
                            <li><a href="#CALL">CALL Instruction</a></li>
                            <li><a href="#RET">RET Instruction</a></li>
                            <li><a href="#WAIT">WAIT Instruction</a></li>
                            <li><a href="#SYSCALL">SYSCALL Instruction</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-exclamation-triangle"></i> Interrupts and System</summary>
                        <ul>
                            <li><a href="#INT">INT Instruction</a></li>
                        </ul>
                    </details>
                </li>
                <li>
                    <details>
                        <summary><i class="fas fa-ellipsis-h"></i> Miscellaneous</summary>
                        <ul>
                            <li><a href="#NOP">NOP Instruction</a></li>
                        </ul>
                    </details>
                </li>
            </ul>
        </div>
        <div class="content">
            <div class="content-header">
                <h1>HASM Assembly Language Reference</h1>
            </div>

            <section id="Overview">
                <h2><i class="fas fa-home"></i> Overview</h2>
                <p>HASM is a modern assembly language designed for 32-bit and 64-bit architectures. This documentation provides a comprehensive reference for the instruction set, register usage, memory addressing modes, and programming conventions.</p>
                
                <div class="alert alert-note">
                    <div class="alert-title"><i class="fas fa-info-circle"></i> Note</div>
                    <p>This documentation assumes familiarity with basic computer architecture concepts. For beginners, we recommend starting with an introductory assembly programming guide before diving into this reference.</p>
                </div>
                
                <h3>Key Features</h3>
                <ul>
                    <li>Support for both 32-bit and 64-bit operation modes</li>
                    <li>Comprehensive set of arithmetic, logical, and control flow instructions</li>
                    <li>Flexible memory addressing modes</li>
                    <li>Standardized register usage conventions</li>
                    <li>Support for system calls and interrupts</li>
                </ul>
            </section>
            
            <section id="Immediate">
                <h2><i class="fas fa-hashtag"></i> Immediate Values</h2>
                <p>Immediate values are constant values directly embedded in instructions. They can be represented in multiple formats:</p>
                
                <table>
                    <thead>
                        <tr>
                            <th>Format</th>
                            <th>Prefix</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Hexadecimal</td>
                            <td><code>0x</code></td>
                            <td><code>0x1A</code></td>
                        </tr>
                        <tr>
                            <td>Decimal</td>
                            <td>None</td>
                            <td><code>26</code></td>
                        </tr>
                        <tr>
                            <td>Binary</td>
                            <td><code>0b</code></td>
                            <td><code>0b11010</code></td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="alert alert-warning">
                    <div class="alert-title"><i class="fas fa-exclamation-triangle"></i> Important</div>
                    <p>Immediate values must fit within the size constraints of the operation. Using a value that's too large for the target operand will result in truncation or an error.</p>
                </div>
            </section>
            
            <section id="Registers">
                <h2><i class="fas fa-memory"></i> Registers</h2>
                <p>Registers are small, fast storage locations within the CPU. HASM provides registers in various sizes for different purposes.</p>
                
                <h3>Register Categories</h3>
                
                <h4>General-Purpose Registers (64-bit)</h4>
                <table class="register-table">
                    <thead>
                        <tr>
                            <th>Register</th>
                            <th>Purpose</th>
                            <th>32-bit</th>
                            <th>16-bit</th>
                            <th>8-bit (low)</th>
                            <th>8-bit (high)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>RAX</td>
                            <td>Accumulator</td>
                            <td>EAX</td>
                            <td>AX</td>
                            <td>AL</td>
                            <td>AH</td>
                        </tr>
                        <tr>
                            <td>RBX</td>
                            <td>Base</td>
                            <td>EBX</td>
                            <td>BX</td>
                            <td>BL</td>
                            <td>BH</td>
                        </tr>
                        <tr>
                            <td>RCX</td>
                            <td>Counter</td>
                            <td>ECX</td>
                            <td>CX</td>
                            <td>CL</td>
                            <td>CH</td>
                        </tr>
                        <tr>
                            <td>RDX</td>
                            <td>Data</td>
                            <td>EDX</td>
                            <td>DX</td>
                            <td>DL</td>
                            <td>DH</td>
                        </tr>
                        <tr>
                            <td>RSI</td>
                            <td>Source Index</td>
                            <td>ESI</td>
                            <td>SI</td>
                            <td colspan="2">-</td>
                        </tr>
                        <tr>
                            <td>RDI</td>
                            <td>Destination Index</td>
                            <td>EDI</td>
                            <td>DI</td>
                            <td colspan="2">-</td>
                        </tr>
                        <tr>
                            <td>RBP</td>
                            <td>Base Pointer</td>
                            <td>EBP</td>
                            <td>BP</td>
                            <td colspan="2">-</td>
                        </tr>
                        <tr>
                            <td>RSP</td>
                            <td>Stack Pointer</td>
                            <td>ESP</td>
                            <td>SP</td>
                            <td colspan="2">-</td>
                        </tr>
                    </tbody>
                </table>
                
                <h4>Special-Purpose Registers</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Register</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>RIP</td>
                            <td>Instruction Pointer</td>
                        </tr>
                        <tr>
                            <td>RFLAGS</td>
                            <td>Flags Register</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Register Usage Conventions</h3>
                <p>When writing functions, follow these conventions for register preservation:</p>
                <ul>
                    <li><strong>Caller-saved:</strong> RAX, RCX, RDX, R8, R9, R10, R11</li>
                    <li><strong>Callee-saved:</strong> RBX, RBP, RDI, RSI, R12-R15</li>
                </ul>
            </section>
            
            <section id="Memory">
                <h2><i class="fas fa-database"></i> Memory Addressing</h2>
                <p>Memory in HASM is accessed through various addressing modes that calculate effective addresses.</p>
                
                <h3>Addressing Modes</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Mode</th>
                            <th>Syntax</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Direct</td>
                            <td><code>[address]</code></td>
                            <td><code>[0x1000]</code></td>
                        </tr>
                        <tr>
                            <td>Register Indirect</td>
                            <td><code>[register]</code></td>
                            <td><code>[RAX]</code></td>
                        </tr>
                        <tr>
                            <td>Base + Offset</td>
                            <td><code>[base + offset]</code></td>
                            <td><code>[RBX + 8]</code></td>
                        </tr>
                        <tr>
                            <td>Indexed</td>
                            <td><code>[base + index * scale]</code></td>
                            <td><code>[RAX + RBX * 4]</code></td>
                        </tr>
                        <tr>
                            <td>Complex</td>
                            <td><code>[base + index * scale + offset]</code></td>
                            <td><code>[RBP + RCX * 8 + 16]</code></td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Memory Size Specifiers</h3>
                <p>When accessing memory, you can explicitly specify the operand size:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Keyword</th>
                            <th>Size</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>BYTE</td>
                            <td>8 bits</td>
                            <td><code>BYTE [RAX]</code></td>
                        </tr>
                        <tr>
                            <td>WORD</td>
                            <td>16 bits</td>
                            <td><code>WORD [RBX]</code></td>
                        </tr>
                        <tr>
                            <td>DWORD</td>
                            <td>32 bits</td>
                            <td><code>DWORD [RCX]</code></td>
                        </tr>
                        <tr>
                            <td>QWORD</td>
                            <td>64 bits</td>
                            <td><code>QWORD [RDX]</code></td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="alert alert-note">
                    <div class="alert-title"><i class="fas fa-info-circle"></i> Note</div>
                    <p>The base and index registers in memory addressing must be of the same size (both 32-bit or both 64-bit). Mixing sizes is not allowed.</p>
                </div>
            </section>

            <section id="ProgramStructure">
                <h1><i class="fas fa-file-code"></i> Program Structure</h1>
                
                <section id="Global">
                    <h3><i class="fas fa-star"></i> GLOBAL Directive</h3>
                    <p>Specifies the entry point of the program.</p>
                    
                    <div class="signature">
                        <span class="keyword">GLOBAL</span> <span class="label">label</span> <span class="keyword">[</span>, <span class="label">label</span>...<span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>The GLOBAL directive defines the ELF headers as well as the entry point into the program. It must appear before any SECTION directives.</p>

                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Single entry point</span>
<span class="keyword">GLOBAL</span> <span class="label">_start</span></code></pre>       
                    </div>
                    <div class="alert alert-note">
                        <div class="alert-title"><i class="fas fa-info-circle"></i> Note</div>
                        <p>For the program to run, a GLOBAL symbol is required as the program entry point. Without the GLOBAL symbol, the program will not have an ELF header.</p>
                    </div>
                </section>
                
                <section id="Sections">
                    <h3><i class="fas fa-columns"></i> SECTION Directive</h3>
                    <p>Defines memory sections for organizing code and data.</p>
                    
                    <div class="signature">
                        <span class="keyword">SECTION</span> <span class="immediate">name</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>Sections are used to organize different parts of the program:</p>
                    <ul>
                        <li><strong>TEXT</strong>: Contains executable code (instructions)</li>
                        <li><strong>DATA</strong>: Contains initialized data</li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="keyword">SECTION</span> <span class="directive">TEXT</span>
<span class="label">_start:</span>
    <span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="number">1</span>
    <span class="keyword">RET</span>

<span class="keyword">SECTION</span> <span class="directive">DATA</span>
<span class="label">message:</span>
    <span class="keyword">DB</span> <span class="string">"Hello"</span>, <span class="number">0</span></code></pre>
                    </div>
                    
                    <div class="alert alert-warning">
                        <div class="alert-title"><i class="fas fa-exclamation-triangle"></i> Important</div>
                        <p>Code must be placed in the TEXT section, while variables and constants belong in the DATA section.</p>
                    </div>
                </section>
                
                <section id="Comments">
                    <h3><i class="fas fa-comment"></i> Comments</h3>
                    <p>Adds explanatory text that is ignored by the assembler.</p>
                    
                    <div class="signature">
                        <span class="comment">; This is a comment</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>Comments begin with a semicolon (;) and continue to the end of the line. They can appear anywhere in the program.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; This is a full-line comment</span>
<span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="number">1</span>  <span class="comment">; This is an end-of-line comment</span>
<span class="comment">; Comments can describe sections:</span>
<span class="keyword">SECTION</span> <span class="directive">DATA</span>  <span class="comment">; Start data section</span></code></pre>
                    </div>
                </section>
            </section>
            
            <!-- Data Definitions -->
            <section id="DataDefinitions">
                <h1><i class="fas fa-cube"></i> Data Definitions</h1>
                
                <section id="DB">
                    <h3><i class="fas fa-align-left"></i> DB - Define Byte</h3>
                    <p>Allocates and optionally initializes byte-sized data.</p>
                    
                    <div class="signature">
                        <span class="label">label:</span> <span class="keyword">DB</span> <span class="immediate">value</span> <span class="keyword">[</span>, <span class="immediate">value</span>...<span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>DB allocates one or more bytes of storage, optionally initialized with specified values. Each value can be:</p>
                    <ul>
                        <li>A numeric constant (decimal, hex, or binary)</li>
                        <li>A character or string in quotes</li>
                        <li>An expression</li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="label">byte_var:</span>
    <span class="keyword">DB</span> <span class="number">0x1A</span>       <span class="comment">; Single byte in hex</span>
    <span class="keyword">DB</span> <span class="number">27</span>         <span class="comment">; Single byte in decimal</span>
    <span class="keyword">DB</span> <span class="string">'A'</span>        <span class="comment">; Character</span>
    <span class="keyword">DB</span> <span class="string">"Hello"</span>, <span class="number">0</span> <span class="comment">; String with null terminator</span>
    <span class="keyword">DB</span> <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>    <span class="comment">; Multiple bytes</span></code></pre>
                    </div>
                </section>
                
                <section id="DW">
                    <h3><i class="fas fa-align-center"></i> DW - Define Word</h3>
                    <p>Allocates and optionally initializes word-sized (2-byte) data.</p>
                    
                    <div class="signature">
                        <span class="label">label:</span> <span class="keyword">DW</span> <span class="immediate">value</span> <span class="keyword">[</span>, <span class="immediate">value</span>...<span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>DW allocates one or more 16-bit words of storage. Values are stored in little-endian format.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="label">word_var:</span>
    <span class="keyword">DW</span> <span class="number">0x1234</span>     <span class="comment">; Single word</span>
    <span class="keyword">DW</span> <span class="number">1000</span>       <span class="comment">; Decimal value</span>
    <span class="keyword">DW</span> <span class="string">'A'</span>, <span class="string">'B'</span>       <span class="comment">; Two characters</span></code></pre>
                    </div>
                </section>
                
                <section id="DD">
                    <h3><i class="fas fa-align-justify"></i> DD - Define Doubleword</h3>
                    <p>Allocates and optionally initializes doubleword-sized (4-byte) data.</p>
                    
                    <div class="signature">
                        <span class="label">label:</span> <span class="keyword">DD</span> <span class="immediate">value</span> <span class="keyword">[</span>, <span class="immediate">value</span>...<span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>DD allocates one or more 32-bit doublewords of storage. Can be used for 32-bit integers.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="label">dword_var:</span>
    <span class="keyword">DD</span> <span class="number">0x12345678</span> <span class="comment">; 32-bit hex value</span></code></pre>
                    </div>
                </section>
                
                <section id="DQ">
                    <h3><i class="fas fa-align-right"></i> DQ - Define Quadword</h3>
                    <p>Allocates and optionally initializes quadword-sized (8-byte) data.</p>
                    
                    <div class="signature">
                        <span class="label">label:</span> <span class="keyword">DQ</span> <span class="immediate">value</span> <span class="keyword">[</span>, <span class="immediate">value</span>...<span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>DQ allocates one or more 64-bit quadwords of storage. Can be used for 64-bit integers.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="label">qword_var:</span>
    <span class="keyword">DQ</span> <span class="number">0x123456789ABCDEF0</span> <span class="comment">; 64-bit value</span></code></pre>
                    </div>
                </section>
                
                <section id="Times">
                    <h3><i class="fas fa-redo"></i> TIMES Directive</h3>
                    <p>Repeats data allocation or instructions a specified number of times.</p>
                    
                    <div class="signature">
                        <span class="keyword">TIMES</span> <span class="immediate">count</span> <span class="keyword">DB</span>|<span class="keyword">DW</span>|<span class="keyword">DD</span>|<span class="keyword">DQ</span> <span class="immediate">value</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>TIMES repeats the following data definition or instruction the specified number of times. Useful for allocating buffers or repeating instructions.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Allocate a 100-byte buffer</span>
<span class="label">buffer:</span>
    <span class="keyword">TIMES</span> <span class="number">100</span> <span class="keyword">DB</span> <span class="number">0</span>
    
<span class="comment">; Initialize array</span>
<span class="label">array:</span>
    <span class="keyword">TIMES</span> <span class="number">10</span> <span class="keyword">DW</span> <span class="number">0xFFFF</span></code></pre>
                    </div>
                    
                    <div class="alert alert-note">
                        <div class="alert-title"><i class="fas fa-info-circle"></i> Note</div>
                        <p>As of now, TIMES can only be used with data definitions.</p>
                    </div>
                </section>
            </section>
            
            <h1><i class="fas fa-exchange-alt"></i> Data Movement Instructions</h1>
            
            <section id="Data Movement">
                <section id="MOV">
                    <h3><i class="fas fa-arrow-right"></i> MOV - Move Data</h3>
                    <p>Copies data from the source operand to the destination operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">MOV</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>The MOV instruction is the most fundamental data transfer operation. It copies the value from the source operand to the destination operand without modifying the source.</p>
                    
                    <h4>Operand Types</h4>
                    <ul>
                        <li><strong>Register to Register:</strong> <code>MOV RAX, RBX</code></li>
                        <li><strong>Immediate to Register:</strong> <code>MOV RCX, 42</code></li>
                        <li><strong>Memory to Register:</strong> <code>MOV RDX, [RDI]</code></li>
                        <li><strong>Register to Memory:</strong> <code>MOV [RSI], RAX</code></li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Copy register to register</span>
    <span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="register">RBX</span>
    
    <span class="comment">; Load immediate value</span>
    <span class="keyword">MOV</span> <span class="register">RCX</span>, <span class="number">0x1234</span>
    
    <span class="comment">; Load from memory</span>
    <span class="keyword">MOV</span> <span class="register">RDX</span>, [<span class="register">RDI</span> + <span class="number">8</span>]
    
    <span class="comment">; Store to memory</span>
    <span class="keyword">MOV</span> [<span class="register">RSI</span>], <span class="register">RAX</span></code></pre>
                    </div>
                    
                    <div class="alert alert-warning">
                        <div class="alert-title"><i class="fas fa-exclamation-triangle"></i> Restrictions</div>
                        <p>MOV cannot transfer data directly between two memory locations. Use a register as an intermediate step if needed.</p>
                    </div>
                </section>
                
                <section id="PUSH">
                    <h3><i class="fas fa-level-down-alt"></i> PUSH - Push onto Stack</h3>
                    <p>Decrements the stack pointer and stores the source operand on the top of the stack.</p>
                    
                    <div class="signature">
                        <span class="keyword">PUSH</span> <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>PUSH decrements the stack pointer (RSP) by the operand size and then stores the source operand at the new top of stack location.</p>
                    
                    <h4>Operand Types</h4>
                    <ul>
                        <li><strong>Register:</strong> <code>PUSH RAX</code></li>
                        <li><strong>Memory:</strong> <code>PUSH QWORD [RBP+8]</code></li>
                        <li><strong>Immediate:</strong> <code>PUSH 42</code></li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Push register</span>
    <span class="keyword">PUSH</span> <span class="register">RBX</span>
    
    <span class="comment">; Push memory value</span>
    <span class="keyword">PUSH</span> <span class="keyword">QWORD</span> [<span class="register">RDI</span>]
    
    <span class="comment">; Push immediate value</span>
    <span class="keyword">PUSH</span> <span class="number">0xABCD</span></code></pre>
                    </div>
                </section>
                
                <section id="POP">
                    <h3><i class="fas fa-level-up-alt"></i> POP - Pop from Stack</h3>
                    <p>Loads the value from the top of the stack into the destination operand and increments the stack pointer.</p>
                    
                    <div class="signature">
                        <span class="keyword">POP</span> <span class="register">destination</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>POP loads the value at the current top of stack (pointed to by RSP) into the destination operand, then increments RSP by the operand size.</p>
                    
                    <h4>Operand Types</h4>
                    <ul>
                        <li><strong>Register:</strong> <code>POP RAX</code></li>
                        <li><strong>Memory:</strong> <code>POP QWORD [RBP-8]</code></li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Pop to register</span>
    <span class="keyword">POP</span> <span class="register">RCX</span>
    
    <span class="comment">; Pop to memory</span>
    <span class="keyword">POP</span> <span class="keyword">QWORD</span> [<span class="register">RDI</span>+<span class="number">16</span>]</code></pre>
                    </div>
                    
                    <div class="alert alert-warning">
                        <div class="alert-title"><i class="fas fa-exclamation-triangle"></i> Warning</div>
                        <p>Attempting to POP when the stack is empty will result in undefined behavior or a segmentation fault.</p>
                    </div>
                </section>
                
                <section id="LEA">
                    <h3><i class="fas fa-map-marker-alt"></i> LEA - Load Effective Address</h3>
                    <p>Computes the effective address of the source operand and stores it in the destination register.</p>
                    
                    <div class="signature">
                        <span class="keyword">LEA</span> <span class="register">destination</span>, <span class="memory">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>LEA calculates the memory address specified by the source operand (without actually accessing memory) and stores the computed address in the destination register.</p>
                    
                    <h4>Operand Types</h4>
                    <ul>
                        <li><strong>Register destination:</strong> <code>LEA RAX, [RBX+RCX*4]</code></li>
                        <li><strong>Complex addressing:</strong> <code>LEA RDI, [RBP+R12*8+32]</code></li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Array element address calculation</span>
    <span class="keyword">LEA</span> <span class="register">RSI</span>, [<span class="register">RAX</span>+<span class="register">RBX</span>*<span class="number">4</span>]
    
    <span class="comment">; Structure field access</span>
    <span class="keyword">LEA</span> <span class="register">RDX</span>, [<span class="register">RDI</span>+<span class="number">16</span>]</code></pre>
                    </div>
                    
                    <div class="alert alert-note">
                        <div class="alert-title"><i class="fas fa-info-circle"></i> Note</div>
                        <p>LEA is often used for arithmetic operations since it can compute complex address calculations in a single instruction without memory access.</p>
                    </div>
                </section>
                
                <section id="XCHG">
                    <h3><i class="fas fa-exchange-alt"></i> XCHG - Exchange</h3>
                    <p>Exchanges the contents of two operands.</p>
                    
                    <div class="signature">
                        <span class="keyword">XCHG</span> <span class="register">operand1</span>, <span class="register">operand2</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>XCHG swaps the values of its two operands. At least one operand must be a register.</p>
                    
                    <h4>Operand Types</h4>
                    <ul>
                        <li><strong>Register with Register:</strong> <code>XCHG RAX, RBX</code></li>
                        <li><strong>Register with Memory:</strong> <code>XCHG RCX, [RDX]</code></li>
                    </ul>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Swap two registers</span>
    <span class="keyword">XCHG</span> <span class="register">RAX</span>, <span class="register">RBX</span>
    
    <span class="comment">; Swap register with memory</span>
    <span class="keyword">XCHG</span> <span class="register">RCX</span>, [<span class="register">RDX</span>+<span class="number">8</span>]</code></pre>
                    </div>
                    
                    <div class="alert alert-warning">
                        <div class="alert-title"><i class="fas fa-exclamation-triangle"></i> Atomic Operation</div>
                        <p>When one operand is memory, XCHG is performed as an atomic operation, making it useful for synchronization in multithreaded code.</p>
                    </div>
                </section>
            </section>
            
            <h1><i class="fas fa-calculator"></i> Arithmetic Instructions</h1>
            
            <section id="Arithmetic Operations">
                <section id="ADD">
                    <h3><i class="fas fa-plus"></i> ADD - Addition</h3>
                    <p>Adds the source operand to the destination operand and stores the result in the destination.</p>
                    
                    <div class="signature">
                        <span class="keyword">ADD</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>ADD performs integer addition, setting flags based on the result. It supports the same operand combinations as MOV.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Register to register</span>
    <span class="keyword">ADD</span> <span class="register">RAX</span>, <span class="register">RBX</span>
    
    <span class="comment">; Immediate to register</span>
    <span class="keyword">ADD</span> <span class="register">RCX</span>, <span class="number">42</span>
    
    <span class="comment">; Memory to register</span>
    <span class="keyword">ADD</span> <span class="register">RDX</span>, [<span class="register">RSI</span>+<span class="number">8</span>]</code></pre>
                    </div>
                </section>
                
                <section id="SUB">
                    <h3><i class="fas fa-minus"></i> SUB - Subtraction</h3>
                    <p>Subtracts the source operand from the destination operand and stores the result in the destination.</p>
                    
                    <div class="signature">
                        <span class="keyword">SUB</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>SUB performs integer subtraction, setting flags based on the result. It supports the same operand combinations as ADD.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Register from register</span>
    <span class="keyword">SUB</span> <span class="register">RAX</span>, <span class="register">RBX</span>
    
    <span class="comment">; Immediate from register</span>
    <span class="keyword">SUB</span> <span class="register">RCX</span>, <span class="number">10</span>
    
    <span class="comment">; Memory from register</span>
    <span class="keyword">SUB</span> <span class="register">RDX</span>, [<span class="register">RDI</span>+<span class="number">16</span>]</code></pre>
                    </div>
                </section>
                
                <section id="MUL">
                    <h3><i class="fas fa-times"></i> MUL - Unsigned Multiply</h3>
                    <p>Performs unsigned multiplication of the accumulator by the source operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">MUL</span> <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>MUL performs unsigned multiplication. The size of the source operand determines which register is used as the multiplicand and where the result is stored.</p>
                    
                    <h4>Operand Sizes</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Source Size</th>
                                <th>Multiplicand</th>
                                <th>Result</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>8-bit</td>
                                <td>AL</td>
                                <td>AX (AH:AL)</td>
                            </tr>
                            <tr>
                                <td>16-bit</td>
                                <td>AX</td>
                                <td>DX:AX</td>
                            </tr>
                            <tr>
                                <td>32-bit</td>
                                <td>EAX</td>
                                <td>EDX:EAX</td>
                            </tr>
                            <tr>
                                <td>64-bit</td>
                                <td>RAX</td>
                                <td>RDX:RAX</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; 64-bit multiplication</span>
    <span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="number">0x1234</span>
    <span class="keyword">MOV</span> <span class="register">RBX</span>, <span class="number">0x5678</span>
    <span class="keyword">MUL</span> <span class="register">RBX</span>      <span class="comment">; <span class="register">RDX</span>:<span class="register">RAX</span> = <span class="register">RAX</span> * <span class="register">RBX</span></span></code></pre>
                    </div>
                </section>
                
                <section id="DIV">
                    <h3><i class="fas fa-divide"></i> DIV - Unsigned Divide</h3>
                    <p>Performs unsigned division of the dividend by the source operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">DIV</span> <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>DIV performs unsigned division. The dividend is implicit and depends on the size of the source operand.</p>
                    
                    <h4>Operand Sizes</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Source Size</th>
                                <th>Dividend</th>
                                <th>Quotient</th>
                                <th>Remainder</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>8-bit</td>
                                <td>AX</td>
                                <td>AL</td>
                                <td>AH</td>
                            </tr>
                            <tr>
                                <td>16-bit</td>
                                <td>DX:AX</td>
                                <td>AX</td>
                                <td>DX</td>
                            </tr>
                            <tr>
                                <td>32-bit</td>
                                <td>EDX:EAX</td>
                                <td>EAX</td>
                                <td>EDX</td>
                            </tr>
                            <tr>
                                <td>64-bit</td>
                                <td>RDX:RAX</td>
                                <td>RAX</td>
                                <td>RDX</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; 64-bit division</span>
    <span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="number">100</span>    <span class="comment">; Dividend low</span>
    <span class="keyword">MOV</span> <span class="register">RDX</span>, <span class="number">0</span>      <span class="comment">; Dividend high</span>
    <span class="keyword">MOV</span> <span class="register">RBX</span>, <span class="number">3</span>      <span class="comment">; Divisor</span>
    <span class="keyword">DIV</span> <span class="register">RBX</span>         <span class="comment">; <span class="register">RAX</span> = quotient, <span class="register">RDX</span> = remainder</span></code></pre>
                    </div>
                    
                    <div class="alert alert-danger">
                        <div class="alert-title"><i class="fas fa-exclamation-circle"></i> Division Error</div>
                        <p>Division by zero or a quotient that exceeds the destination size will trigger a #DE (Divide Error) exception.</p>
                    </div>
                </section>
                
                <section id="IMUL">
                    <h3><i class="fas fa-times"></i> IMUL - Signed Multiply</h3>
                    <p>Performs signed multiplication with more flexible operand options than MUL.</p>
                    
                    <div class="signature">
                        <span class="keyword">IMUL</span> <span class="register">destination</span>, <span class="register">source</span> <span class="keyword">[</span>, <span class="immediate">immediate</span><span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>IMUL has three forms:</p>
                    <ol>
                        <li>Single operand (like MUL but signed)</li>
                        <li>Two operands: destination = destination * source</li>
                        <li>Three operands: destination = source * immediate</li>
                    </ol>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Single operand form (like MUL)</span>
    <span class="keyword">IMUL</span> <span class="register">RBX</span>      <span class="comment">; <span class="register">RDX</span>:<span class="register">RAX</span> = <span class="register">RAX</span> * <span class="register">RBX</span> (signed)</span>
    
    <span class="comment">; Two operand form</span>
    <span class="keyword">IMUL</span> <span class="register">RAX</span>, <span class="register">RBX</span> <span class="comment">; <span class="register">RAX</span> = <span class="register">RAX</span> * <span class="register">RBX</span></span>
    
    <span class="comment">; Three operand form</span>
    <span class="keyword">IMUL</span> <span class="register">RCX</span>, <span class="register">RDX</span>, <span class="number">5</span> <span class="comment">; <span class="register">RCX</span> = <span class="register">RDX</span> * <span class="number">5</span></span></code></pre>
                    </div>
                </section>
                
                <section id="IDIV">
                    <h3><i class="fas fa-divide"></i> IDIV - Signed Divide</h3>
                    <p>Performs signed division of the dividend by the source operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">IDIV</span> <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>IDIV works like DIV but performs signed division. The same size rules and register usage apply as with DIV.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Signed 64-bit division</span>
    <span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="number">-100</span>  <span class="comment">; Dividend low</span>
    <span class="keyword">MOV</span> <span class="register">RDX</span>, <span class="number">-1</span>    <span class="comment">; Dividend high (sign extension)</span>
    <span class="keyword">MOV</span> <span class="register">RBX</span>, <span class="number">3</span>     <span class="comment">; Divisor</span>
    <span class="keyword">IDIV</span> <span class="register">RBX</span>       <span class="comment">; <span class="register">RAX</span> = quotient (<span class="number">-33</span>), <span class="register">RDX</span> = remainder (<span class="number">-1</span>)</span></code></pre>
                    </div>
                </section>
                
                <section id="ADC">
                    <h3><i class="fas fa-plus-circle"></i> ADC - Add with Carry</h3>
                    <p>Adds the source operand, the destination operand, and the carry flag, storing the result in the destination.</p>
                    
                    <div class="signature">
                        <span class="keyword">ADC</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>ADC is used for multi-word arithmetic. It adds the two operands plus the value of the carry flag from previous operations.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; 128-bit addition</span>
    <span class="keyword">ADD</span> <span class="register">RAX</span>, <span class="register">RCX</span>    <span class="comment">; Add low <span class="number">64</span> bits</span>
    <span class="keyword">ADC</span> <span class="register">RDX</span>, <span class="register">R8</span>     <span class="comment">; Add high <span class="number">64</span> bits with carry</span></code></pre>
                    </div>
                </section>
                
                <section id="SBB">
                    <h3><i class="fas fa-minus-circle"></i> SBB - Subtract with Borrow</h3>
                    <p>Subtracts the source operand and the carry flag from the destination operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">SBB</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>SBB is used for multi-word subtraction. It subtracts the source and the carry flag from the destination.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; 128-bit subtraction</span>
    <span class="keyword">SUB</span> <span class="register">RAX</span>, <span class="register">RCX</span>    <span class="comment">; Subtract low <span class="number">64</span> bits</span>
    <span class="keyword">SBB</span> <span class="register">RDX</span>, <span class="register">R8</span>     <span class="comment">; Subtract high <span class="number">64</span> bits with borrow</span></code></pre>
                    </div>
                </section>
                
                <section id="NEG">
                    <h3><i class="fas fa-plus-minus"></i> NEG - Negate</h3>
                    <p>Replaces the operand with its two's complement negation.</p>
                    
                    <div class="signature">
                        <span class="keyword">NEG</span> <span class="register">operand</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>NEG performs the equivalent of subtracting the operand from zero, effectively flipping the sign of a number.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Negate register</span>
    <span class="keyword">NEG</span> <span class="register">RAX</span>
    
    <span class="comment">; Negate memory value</span>
    <span class="keyword">NEG</span> <span class="keyword">DWORD</span> [<span class="register">RBP</span>-<span class="number">8</span>]</code></pre>
                    </div>
                </section>
                
                <section id="INC">
                    <h3><i class="fas fa-plus-square"></i> INC - Increment</h3>
                    <p>Adds 1 to the operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">INC</span> <span class="register">operand</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>INC is more efficient than ADD operand, 1 for single increment operations. It doesn't affect the carry flag.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Increment register</span>
    <span class="keyword">INC</span> <span class="register">RCX</span>
    
    <span class="comment">; Increment memory</span>
    <span class="keyword">INC</span> <span class="keyword">BYTE</span> [<span class="register">RDI</span>]</code></pre>
                    </div>
                </section>
                
                <section id="DEC">
                    <h3><i class="fas fa-minus-square"></i> DEC - Decrement</h3>
                    <p>Subtracts 1 from the operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">DEC</span> <span class="register">operand</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>DEC is more efficient than SUB operand, 1 for single decrement operations. It doesn't affect the carry flag.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Decrement register</span>
    <span class="keyword">DEC</span> <span class="register">R8</span>
    
    <span class="comment">; Decrement memory</span>
    <span class="keyword">DEC</span> <span class="keyword">WORD</span> [<span class="register">RSI</span>+<span class="number">4</span>]</code></pre>
                    </div>
                </section>
            </section>
            
            <h1><i class="fas fa-binary"></i> Logical and Bitwise Instructions</h1>
            
            <section id="Logical and Bitwise Operations">
                <section id="AND">
                    <h3><i class="fas fa-and"></i> AND - Logical AND</h3>
                    <p>Performs bitwise AND between the operands and stores the result in the destination.</p>
                    
                    <div class="signature">
                        <span class="keyword">AND</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>AND compares each bit of the operands and produces a 1 in the result bit only if both corresponding bits were 1.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Clear bits using AND</span>
    <span class="keyword">AND</span> <span class="register">RAX</span>, <span class="number">0xFFFF0000</span>  <span class="comment">; Keep only upper 16 bits</span>
    
    <span class="comment">; Test if even</span>
    <span class="keyword">AND</span> <span class="register">RCX</span>, <span class="number">1</span>           <span class="comment">; ZF set if RCX even</span></code></pre>
                    </div>
                </section>
                
                <section id="OR">
                    <h3><i class="fas fa-or"></i> OR - Logical OR</h3>
                    <p>Performs bitwise OR between the operands and stores the result in the destination.</p>
                    
                    <div class="signature">
                        <span class="keyword">OR</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>OR compares each bit of the operands and produces a 1 in the result bit if either corresponding bit was 1.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Set bits using OR</span>
    <span class="keyword">OR</span> <span class="register">RAX</span>, <span class="number">0x80000000</span>  <span class="comment">; Set sign bit</span>
    
    <span class="comment">; Combine flags</span>
    <span class="keyword">OR</span> <span class="register">RCX</span>, <span class="register">RDX</span>         <span class="comment">; RCX = RCX | RDX</span></code></pre>
                    </div>
                </section>
                
                <section id="XOR">
                    <h3><i class="fas fa-xor"></i> XOR - Logical XOR</h3>
                    <p>Performs bitwise exclusive OR between the operands and stores the result in the destination.</p>
                    
                    <div class="signature">
                        <span class="keyword">XOR</span> <span class="register">destination</span>, <span class="register">source</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>XOR compares each bit of the operands and produces a 1 in the result bit if the corresponding bits were different.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Toggle bits</span>
    <span class="keyword">XOR</span> <span class="register">RAX</span>, <span class="number">0xFFFFFFFF</span>  <span class="comment">; Flip lower 32 bits</span>
    
    <span class="comment">; Clear register efficiently</span>
    <span class="keyword">XOR</span> <span class="register">RCX</span>, <span class="register">RCX</span>         <span class="comment">; Faster than MOV RCX, 0</span></code></pre>
                    </div>
                </section>
                
                <section id="NOT">
                    <h3><i class="fas fa-not-equal"></i> NOT - Logical NOT</h3>
                    <p>Performs bitwise inversion of the operand.</p>
                    
                    <div class="signature">
                        <span class="keyword">NOT</span> <span class="register">operand</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>NOT flips all bits in the operand (ones become zeros and zeros become ones).</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Invert register</span>
    <span class="keyword">NOT</span> <span class="register">RAX</span>
    
    <span class="comment">; Invert memory value</span>
    <span class="keyword">NOT</span> <span class="keyword">BYTE</span> [<span class="register">RDI</span>]</code></pre>
                    </div>
                </section>
                
                <section id="TEST">
                    <h3><i class="fas fa-vial"></i> TEST - Logical Compare</h3>
                    <p>Performs bitwise AND without storing the result, only setting flags.</p>
                    
                    <div class="signature">
                        <span class="keyword">TEST</span> <span class="register">operand1</span>, <span class="register">operand2</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>TEST is like AND but doesn't store the result. It's commonly used to check if specific bits are set.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Check if zero</span>
    <span class="keyword">TEST</span> <span class="register">RAX</span>, <span class="register">RAX</span>
    <span class="keyword">JZ</span>  <span class="label">IsZero</span>
    
    <span class="comment">; Check if bit 3 is set</span>
    <span class="keyword">TEST</span> <span class="register">RCX</span>, <span class="number">8</span>
    <span class="keyword">JNZ</span> <span class="label">Bit3Set</span></code></pre>
                    </div>
                </section>
            </section>
            
            <h1><i class="fas fa-code-branch"></i> Comparison and Jump Instructions</h1>
            
            <section id="Comparison and Jumps">
                <section id="CMP">
                    <h3><i class="fas fa-not-equal"></i> CMP - Compare</h3>
                    <p>Compares two operands by subtracting them without storing the result.</p>
                    
                    <div class="signature">
                        <span class="keyword">CMP</span> <span class="register">operand1</span>, <span class="register">operand2</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>CMP performs operand1 - operand2 and sets flags based on the result, but doesn't store the result. It's used before conditional jumps.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Compare register with immediate</span>
        <span class="keyword">CMP</span> <span class="register">RAX</span>, <span class="number">42</span>
        <span class="keyword">JE</span>  <span class="label">EqualTo42</span>
        
        <span class="comment">; Compare two registers</span>
        <span class="keyword">CMP</span> <span class="register">RCX</span>, <span class="register">RDX</span>
        <span class="keyword">JG</span>  <span class="label">GreaterThan</span></code></pre></div>
            </section>
            
            <h1><i class="fas fa-project-diagram"></i> Control Flow Instructions</h1>
            
            <section id="Control Flow">
                <section id="JMP">
                    <h3><i class="fas fa-arrow-right"></i> JMP - Unconditional Jump</h3>
                    <p>Transfers control unconditionally to the specified location.</p>
                    
                    <div class="signature">
                        <span class="keyword">JMP</span> <span class="immediate">target</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>JMP can transfer control to a label (direct jump) or to an address stored in a register or memory (indirect jump).</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Direct jump</span>
    <span class="keyword">JMP</span> <span class="label">LoopStart</span>
        
    <span class="comment">; Indirect jump through register</span>
    <span class="keyword">JMP</span> <span class="register">RAX</span>
        
    <span class="comment">; Indirect jump through memory</span>
    <span class="keyword">JMP</span> [<span class="register">RIP</span>+<span class="label">JumpTable</span>]</code></pre>
                    </div>
                </section>
                
                <section id="CALL">
                    <h3><i class="fas fa-share-square"></i> CALL - Call Procedure</h3>
                    <p>Pushes the return address and transfers control to the specified procedure.</p>
                    
                    <div class="signature">
                        <span class="keyword">CALL</span> <span class="immediate">target</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>CALL pushes the address of the next instruction onto the stack (RSP adjusted) and then jumps to the target address.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Direct call</span>
    <span class="keyword">CALL</span> <span class="label">MyFunction</span>
        
    <span class="comment">; Indirect call through register</span>
    <span class="keyword">CALL</span> <span class="register">RAX</span>
        
    <span class="comment">; Indirect call through memory</span>
    <span class="keyword">CALL</span> [<span class="register">RIP</span>+<span class="label">FunctionPointer</span>]</code></pre>
                    </div>
                </section>
                
                <section id="RET">
                    <h3><i class="fas fa-reply"></i> RET - Return from Procedure</h3>
                    <p>Pops the return address from the stack and transfers control there.</p>
                    
                    <div class="signature">
                        <span class="keyword">RET</span> <span class="keyword">[</span><span class="immediate">n</span><span class="keyword">]</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>RET pops the return address from the stack (RSP adjusted) and jumps to that address. The optional immediate operand specifies additional bytes to pop from the stack (for cleaning up arguments).</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Simple return</span>
    <span class="keyword">RET</span></div>
                </section>
                
                <section id="WAIT">
                    <h3><i class="fas fa-pause"></i> WAIT - Wait</h3>
                    <p>Waits for pending floating-point exceptions.</p>
                    
                    <div class="signature">
                        <span class="keyword">WAIT</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>WAIT checks for and handles pending unmasked floating-point exceptions before proceeding. In modern systems, it's often used as a no-op.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Wait for FPU</span>
    <span class="keyword">WAIT</span></code></pre>
                    </div>
                </section>
                
                <section id="SYSCALL">
                    <h3><i class="fas fa-terminal"></i> SYSCALL - Fast System Call</h3>
                    <p>Transfers control to the operating system kernel.</p>
                    
                    <div class="signature">
                        <span class="keyword">SYSCALL</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>SYSCALL is the modern, fast method for making system calls in 64-bit mode. It saves minimal state and transfers control to the OS kernel.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Linux exit syscall</span>
    <span class="keyword">MOV</span> <span class="register">RAX</span>, <span class="number">60</span>     <span class="comment">; syscall number</span>
    <span class="keyword">MOV</span> <span class="register">RDI</span>, <span class="number">0</span>      <span class="comment">; exit code</span>
    <span class="keyword">SYSCALL</span></code></pre>
                    </div>
                    
                    <div class="alert alert-note">
                        <div class="alert-title"><i class="fas fa-info-circle"></i> System Call Conventions</div>
                        <p>System call numbers and parameter passing conventions vary by operating system. On Linux, RAX contains the syscall number and RDI, RSI, RDX, R10, R8, R9 contain the arguments.</p>
                    </div>
                </section>
            </section>
            
            <h1><i class="fas fa-exclamation-triangle"></i> Interrupt and System Instructions</h1>
            
            <section id="Interrupts and System">
                <section id="INT">
                    <h3><i class="fas fa-exclamation"></i> INT - Software Interrupt</h3>
                    <p>Generates a software interrupt.</p>
                    
                    <div class="signature">
                        <span class="keyword">INT</span> <span class="immediate">n</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>INT transfers control to an interrupt handler specified by the interrupt number. In real mode, it uses the interrupt vector table; in protected mode, it uses the IDT.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly">; DOS system call
    <span class="keyword">MOV</span> <span class="register">AH</span>, <span class="number">09h</span>
    <span class="keyword">MOV</span> <span class="register">DX</span>, message
    <span class="keyword">INT</span> <span class="number">21h</span></code></pre>
                    </div>
                    
                    <div class="alert alert-note">
                        <div class="alert-title"><i class="fas fa-info-circle"></i> Modern Usage</div>
                        <p>In 64-bit mode, INT is largely superseded by SYSCALL/SYSENTER for system calls, but may still be used for debugging (INT 3) or virtualization.</p>
                    </div>
                </section>
            </section>
            
            <h1><i class="fas fa-ellipsis-h"></i> Miscellaneous Instructions</h1>
            
            <section id="Miscellaneous Operations">
                <section id="NOP">
                    <h3><i class="fas fa-space-shuttle"></i> NOP - No Operation</h3>
                    <p>Performs no operation.</p>
                    
                    <div class="signature">
                        <span class="keyword">NOP</span>
                    </div>
                    
                    <h4>Description</h4>
                    <p>NOP does nothing except occupy space and time. It's commonly used for padding, alignment, and debugging.</p>
                    
                    <h4>Examples</h4>
                    <div class="code-container">
                        <pre><code class="language-assembly"><span class="comment">; Alignment padding</span>
<span class="label">MyFunction:</span>
    <span class="keyword">NOP</span>
    <span class="keyword">NOP</span></div>
                    
                    <div class="alert alert-note">
                        <div class="alert-title"><i class="fas fa-info-circle"></i> Optimization</div>
                        <p>Modern processors may optimize away NOPs or execute them in parallel with other instructions.</p>
                    </div>
                </section>
            </section>
            
            <footer class="footer">
                <div class="footer-content">
                    <div class="footer-copy">
                        &copy; 2025 Hendrik Sorensen. All rights reserved.
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>
    // Simple script to handle sidebar navigation
    document.querySelectorAll('.sidebar a').forEach(link => {
        link.addEventListener('click', function() {
            document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
            this.classList.add('active');
        });
    });
    
    // Update active link based on scroll position
    window.addEventListener('scroll', function() {
        const sections = document.querySelectorAll('section');
        let currentSection = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 100) {
                currentSection = section.getAttribute('id');
            }
        });
        
        document.querySelectorAll('.sidebar a').forEach(a => {
            a.classList.remove('active');
            if (a.getAttribute('href') === `#${currentSection}`) {
                a.classList.add('active');
            }
        });
    });

    // ASM Editor Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const editor = document.getElementById('codeEditor');
        const runBtn = document.getElementById('runBtn');
        const stepBtn = document.getElementById('stepBtn');
        const resetBtn = document.getElementById('resetBtn');
        const clearBtn = document.getElementById('clearBtn');
        const outputTerminal = document.getElementById('outputTerminal');
        const statusIndicator = document.getElementById('statusIndicator');
        const codeExamples = document.getElementById('codeExamples');
        const registerDisplay = document.getElementById('registerDisplay');
        const memoryDisplay = document.getElementById('memoryDisplay');

        // Simulation state
        let simulationState = {
            running: false,
            currentLine: 0,
            registers: {
                RAX: '0x0000000000000000',
                RBX: '0x0000000000000000',
                RCX: '0x0000000000000000',
                RDX: '0x0000000000000000',
                RSI: '0x0000000000000000',
                RDI: '0x0000000000000000',
                RBP: '0x0000000000000000',
                RSP: '0x0000000000000000',
                RIP: '0x0000000000000000',
                R8: '0x0000000000000000',
                R9: '0x0000000000000000',
                R10: '0x0000000000000000',
                R11: '0x0000000000000000',
                R12: '0x0000000000000000',
                R13: '0x0000000000000000',
                R14: '0x0000000000000000',
                R15: '0x0000000000000000',
                EFLAGS: '0x00000000'
            },
            memory: {},
            codeLines: []
        };

        // Initialize register display
        function initRegisterDisplay() {
            registerDisplay.innerHTML = '';
            for (const reg in simulationState.registers) {
                const regItem = document.createElement('div');
                regItem.className = 'register-item';
                regItem.innerHTML = `
                    <div class="register-name">${reg}</div>
                    <div class="register-value" id="reg-${reg}">${simulationState.registers[reg]}</div>
                `;
                registerDisplay.appendChild(regItem);
            }
        }

        // Initialize memory display
        function initMemoryDisplay() {
            memoryDisplay.innerHTML = '';
            for (const addr in simulationState.memory) {
                const memItem = document.createElement('div');
                memItem.className = 'memory-item';
                memItem.innerHTML = `
                    <div class="register-name">${addr}</div>
                    <div class="register-value">${simulationState.memory[addr]}</div>
                `;
                memoryDisplay.appendChild(memItem);
            }
        }

        // Update register display
        function updateRegisterDisplay() {
            for (const reg in simulationState.registers) {
                const regElement = document.getElementById(`reg-${reg}`);
                if (regElement) {
                    regElement.textContent = simulationState.registers[reg];
                }
            }
        }

        // Highlight current line
        function highlightCurrentLine() {
            // Remove previous highlights
            const lines = editor.querySelectorAll('.execution-line');
            lines.forEach(line => line.classList.remove('execution-line'));
            
            // Highlight current line
            const codeLines = editor.querySelectorAll('span[class^="instruction"], span.comment, span.register, span.immediate, span.memory, span.label, br');
            if (codeLines[simulationState.currentLine]) {
                codeLines[simulationState.currentLine].classList.add('execution-line');
                codeLines[simulationState.currentLine].scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }
        }

        // Example code snippets
        const examples = {
            hello: `GLOBAL _start
SECTION .text
_start:
; Hello World Example
    MOV RDI, 1          ; stdout file descriptor
    LEA RSI, [message]  ; pointer to message
    MOV RDX, 13         ; message length
    MOV RAX, 1          ; sys_write
    SYSCALL
    RET

SECTION .data
message:
    DB 'Hello World!', 10  ; '10' is newline`,
            
            fibonacci: `GLOBAL _start
SECTION .text
_start:
; Fibonacci Sequence
MOV RCX, 10        ; number of terms to generate
MOV RAX, 0         ; first term
MOV RBX, 1         ; second term

fib_loop:
    ; Print current term (RAX)
    ; (In a real implementation, you'd add printing code here)
    
    ; Calculate next term
    MOV RDX, RAX
    ADD RDX, RBX
    MOV RAX, RBX
    MOV RBX, RDX
    
    ; Loop until RCX reaches 0
    DEC RCX
    JNZ fib_loop`,
            
            math: `; Simple Math Operations
MOV RAX, 15
MOV RBX, 3

; Addition
ADD RAX, RBX    ; RAX = 18

; Subtraction
SUB RAX, 5      ; RAX = 13

; Multiplication
IMUL RAX, RBX   ; RAX = 39

; Division
MOV RDX, 0      ; Clear upper bits
IDIV RBX        ; RAX = 13, RDX = 0`,
            
            memory: `; Memory Operations
MOV QWORD [mem_var], 42  ; Store 64-bit value
MOV RAX, [mem_var]       ; Load into register

; Array access
MOV RCX, 2               ; Index
MOV RAX, [array + RCX*8] ; Get array[2]

RET

mem_var: DQ 0
array: DQ 10, 20, 30, 40`
        };

        // Load example code
        codeExamples.addEventListener('change', function() {
            const example = this.value;
            if (example && examples[example]) {
                editor.textContent = examples[example];
                highlightSyntax();
                resetSimulation();
            }
        });

        // Run button handler
        runBtn.addEventListener('click', function() {
            statusIndicator.textContent = "Running...";
            statusIndicator.className = "status-running";
            outputTerminal.textContent = "";
            
            // Parse code into lines
            simulationState.codeLines = editor.textContent.split('\n').filter(line => line.trim() !== '');
            simulationState.currentLine = 0;
            simulationState.running = true;
            
            // Highlight first line
            highlightCurrentLine();
        });

        // Step button handler
        stepBtn.addEventListener('click', function() {
            if (!simulationState.running) return;
            
            // Simulate executing the current line
            const currentLine = simulationState.codeLines[simulationState.currentLine].trim();
            
            // Very simple simulation - in a real implementation you'd parse the actual instructions
            if (currentLine.startsWith('MOV')) {
                // Simulate MOV instruction
                const parts = currentLine.split(/[, ]+/).filter(part => part.trim() !== '');
                if (parts.length >= 3) {
                    const dest = parts[1];
                    const src = parts[2];
                    
                    // Update register
                    if (dest in simulationState.registers) {
                        if (src in simulationState.registers) {
                            simulationState.registers[dest] = simulationState.registers[src];
                        } else {
                            // Simple heuristic for immediate values
                            simulationState.registers[dest] = src.startsWith('0x') ? src : `0x${parseInt(src).toString(16).padStart(16, '0')}`;
                        }
                    }
                }
            } else if (currentLine.startsWith('ADD')) {
                // Simulate ADD instruction
                const parts = currentLine.split(/[, ]+/).filter(part => part.trim() !== '');
                if (parts.length >= 3) {
                    const dest = parts[1];
                    const src = parts[2];
                    
                    if (dest in simulationState.registers) {
                        const destValue = parseInt(simulationState.registers[dest], 16);
                        let srcValue;
                        
                        if (src in simulationState.registers) {
                            srcValue = parseInt(simulationState.registers[src], 16);
                        } else {
                            srcValue = src.startsWith('0x') ? parseInt(src, 16) : parseInt(src);
                        }
                        
                        simulationState.registers[dest] = `0x${(destValue + srcValue).toString(16).padStart(16, '0')}`;
                    }
                }
            }
            
            // Update display
            updateRegisterDisplay();
            outputTerminal.textContent += `Executed: ${currentLine}\n`;
            
            // Move to next line
            simulationState.currentLine++;
            if (simulationState.currentLine >= simulationState.codeLines.length) {
                simulationState.running = false;
                statusIndicator.textContent = "Finished";
                statusIndicator.className = "status-ready";
            }
            
            // Highlight current line
            highlightCurrentLine();
        });

        // Reset button handler
        resetBtn.addEventListener('click', resetSimulation);
        
        // Clear button handler
        clearBtn.addEventListener('click', function() {
            outputTerminal.textContent = '';
            statusIndicator.textContent = 'Ready';
            statusIndicator.className = 'status-ready';
            resetSimulation();
        });

        // Reset simulation state
        function resetSimulation() {
            simulationState = {
                running: false,
                currentLine: 0,
                registers: {
                    RAX: '0x0000000000000000',
                    RBX: '0x0000000000000000',
                    RCX: '0x0000000000000000',
                    RDX: '0x0000000000000000',
                    RSI: '0x0000000000000000',
                    RDI: '0x0000000000000000',
                    RBP: '0x0000000000000000',
                    RSP: '0x0000000000000000',
                    RIP: '0x0000000000000000',
                    R8: '0x0000000000000000',
                    R9: '0x0000000000000000',
                    R10: '0x0000000000000000',
                    R11: '0x0000000000000000',
                    R12: '0x0000000000000000',
                    R13: '0x0000000000000000',
                    R14: '0x0000000000000000',
                    R15: '0x0000000000000000',
                    EFLAGS: '0x00000000'
                },
                memory: {},
                codeLines: []
            };
            
            updateRegisterDisplay();
            initMemoryDisplay();
            
            // Remove any line highlights
            const lines = editor.querySelectorAll('.execution-line');
            lines.forEach(line => line.classList.remove('execution-line'));
            
            statusIndicator.textContent = 'Ready';
            statusIndicator.className = 'status-ready';
        }

        // Store the current cursor position
        let cursorPos = 0;
        
        // Save cursor position before updating content
        function saveCursorPosition() {
            const selection = window.getSelection();
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                const preRange = range.cloneRange();
                preRange.selectNodeContents(editor);
                preRange.setEnd(range.startContainer, range.startOffset);
                cursorPos = preRange.toString().length;
            }
        }
        
        // Restore cursor position after updating content
        function restoreCursorPosition() {
            const selection = window.getSelection();
            const range = document.createRange();
            
            let charCount = 0;
            let foundNode = null;
            let foundOffset = 0;
            
            // Recursive function to find the correct node and offset
            function findPosition(node) {
                if (node.nodeType === Node.TEXT_NODE) {
                    const nextCharCount = charCount + node.length;
                    if (nextCharCount >= cursorPos) {
                        foundNode = node;
                        foundOffset = cursorPos - charCount;
                        return true;
                    }
                    charCount = nextCharCount;
                } else {
                    for (let i = 0; i < node.childNodes.length; i++) {
                        if (findPosition(node.childNodes[i])) {
                            return true;
                        }
                    }
                }
                return false;
            }
            
            findPosition(editor);
            
            if (foundNode) {
                range.setStart(foundNode, foundOffset);
                range.setEnd(foundNode, foundOffset);
                selection.removeAllRanges();
                selection.addRange(range);
            }
        }

        // Syntax highlighting function
        function highlightSyntax() {
            saveCursorPosition();
            
            const text = editor.textContent;
            const highlighted = text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/\b(GLOBAL|SECTION|MOV|ADD|SUB|PUSH|POP|CALL|RET|JMP|JE|JNE|JG|JL|JGE|JLE|JA|JB|JAE|JBE|CMP|TEST|AND|OR|XOR|NOT|LEA|NOP|SYSCALL|INT)\b/g, '<span class="instruction">$1</span>')
                .replace(/\b(RAX|RBX|RCX|RDX|RSI|RDI|RBP|RSP|R8|R9|R10|R11|R12|R13|R14|R15|EAX|EBX|ECX|EDX|ESI|EDI|EBP|ESP|AX|BX|CX|DX|SI|DI|BP|SP|AL|AH|BL|BH|CL|CH|DL|DH)\b/g, '<span class="register">$1</span>')
                .replace(/\b(0x[0-9A-Fa-f]+|\d+)\b/g, '<span class="immediate">$1</span>')
                .replace(/(\[.*?\])/g, '<span class="memory">$1</span>')
                .replace(/(\w+:)/g, '<span class="label">$1</span>')
                .replace(/(;.*)$/gm, '<span class="comment">$1</span>');
            
            editor.innerHTML = highlighted;
            restoreCursorPosition();
        }

        // Handle Enter key for new lines
        editor.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                document.execCommand('insertHTML', false, '\n');
            }
        });

        // Debounce function to prevent excessive highlighting
        let debounceTimer;
        editor.addEventListener('input', function() {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(highlightSyntax, 300);
        });

        // Initial highlighting and setup
        highlightSyntax();
        initRegisterDisplay();
        initMemoryDisplay();
        hljs.highlightAll();
    });
    
    // Dark/Light mode toggle - moved outside event listener to be globally accessible
    function toggleDarkMode() {
        document.body.classList.toggle('light-mode');
        localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
    }
    
    // Initialize theme on page load
    window.onload = function() {
        if(localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-mode');
        }
    }
</script>
</body>
</html>